<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            安装并使用 EFB：在 Telegram 收发 QQ 消息 | 
        
        Milkice&#39;s IceBox
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="Milkice(奶冰)的小天地亦是栖息地～ 虽说是站点描述但是也不知道该写什么好了，反正欢迎来玩0w0.">
    <meta name="keywords" content="Milkice,Milkice&#39;s Blog,奶冰,奶冰博客,奶冰の日志,奶冰日志,奶冰冷藏室,Milkice&#39;s IceBox,奶冰的博客,奶冰的日志,Mlk,Ice,Develop,EFB,ehForwarderBot,EQS,Python,QQ,Telegram">
    <meta name="theme-color" content="#4f4f4f">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #EEEEEE;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Milkice&#39;s IceBox">
    <meta name="msapplication-starturl" content="https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/">
    <meta name="msapplication-navbutton-color" content="#4f4f4f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Milkice&#39;s IceBox">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="安装并使用 EFB：在 Telegram 收发 QQ 消息 | Milkice&#39;s IceBox">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="Milkice(奶冰)的小天地亦是栖息地～ 虽说是站点描述但是也不知道该写什么好了，反正欢迎来玩0w0.">
    <meta property="og:article:tag" content="Develop"> <meta property="og:article:tag" content="EFB"> <meta property="og:article:tag" content="ehForwarderBot"> <meta property="og:article:tag" content="EQS"> <meta property="og:article:tag" content="Python"> <meta property="og:article:tag" content="QQ"> <meta property="og:article:tag" content="Telegram"> 

    
        <meta property="article:published_time" content="Mon Sep 17 2018 00:04:00 GMT+0800">
        <meta property="article:modified_time" content="Fri Dec 28 2018 02:51:06 GMT+0000">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/index.html",
    "headline": "安装并使用 EFB：在 Telegram 收发 QQ 消息",
    "datePublished": "Mon Sep 17 2018 00:04:00 GMT+0800",
    "dateModified": "Fri Dec 28 2018 02:51:06 GMT+0000",
    "author": {
        "@type": "Person",
        "name": "Milkice",
        "image": {
            "@type": "ImageObject",
            "url": "https://hexo.milkice.me/wp-content/uploads/2017/12/avatar.jpg"
        },
        "description": "Maybe a way to explore the world?"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Milkice&#39;s IceBox",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": ",Develop,EFB,ehForwarderBot,EQS,Python,QQ,TelegramMilkice,Milkice&#39;s Blog,奶冰,奶冰博客,奶冰の日志,奶冰日志,奶冰冷藏室,Milkice&#39;s IceBox,奶冰的博客,奶冰的日志,Mlk,Ice",
    "description": "Milkice(奶冰)的小天地亦是栖息地～ 虽说是站点描述但是也不知道该写什么好了，反正欢迎来玩0w0.",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x00-说明"><span class="post-toc-number">1.</span> <span class="post-toc-text">0x00: 说明</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x01-用料"><span class="post-toc-number">2.</span> <span class="post-toc-text">0x01: 用料</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x02-构建环境"><span class="post-toc-number">3.</span> <span class="post-toc-text">0x02: 构建环境</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x02-1-安装-Python-与非-Python-依赖"><span class="post-toc-number">3.0.1.</span> <span class="post-toc-text">0x02.1: 安装 Python 与非 Python 依赖</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x02-2-从-PyPI-下载-ehForwarderBot"><span class="post-toc-number">3.0.2.</span> <span class="post-toc-text">0x02.2: 从 PyPI 下载 ehForwarderBot</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x03-配置-EFB"><span class="post-toc-number">4.</span> <span class="post-toc-text">0x03: 配置 EFB</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x03-1-配置主端与从端"><span class="post-toc-number">4.0.1.</span> <span class="post-toc-text">0x03.1: 配置主端与从端</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x03-2-配置主端-ETM-EFB-Telegram-Master"><span class="post-toc-number">4.0.2.</span> <span class="post-toc-text">0x03.2: 配置主端 ETM(EFB-Telegram-Master)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x03-2-1-创建-Telegram-Bot"><span class="post-toc-number">4.0.2.1.</span> <span class="post-toc-text">0x03.2.1: 创建 Telegram Bot</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x03-2-2-安装-ETM"><span class="post-toc-number">4.0.2.2.</span> <span class="post-toc-text">0x03.2.2: 安装 ETM</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x03-2-3-创建-ETM-配置文件"><span class="post-toc-number">4.0.2.3.</span> <span class="post-toc-text">0x03.2.3: 创建 ETM 配置文件</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#0x03-3-配置从端-EQS-EFB-QQ-Slave"><span class="post-toc-number">4.0.3.</span> <span class="post-toc-text">0x03.3: 配置从端 EQS(EFB-QQ-Slave)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x3-3-0-配置用户-docker-网络权限"><span class="post-toc-number">4.0.3.1.</span> <span class="post-toc-text">0x3.3.0: 配置用户 docker 网络权限</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x03-3-1-配置-docker-镜像"><span class="post-toc-number">4.0.3.2.</span> <span class="post-toc-text">0x03.3.1: 配置 docker 镜像</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x03-3-2-登录"><span class="post-toc-number">4.0.3.3.</span> <span class="post-toc-text">0x03.3.2: 登录</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x03-3-3-通过-PyPI-下载安装-EQS"><span class="post-toc-number">4.0.3.4.</span> <span class="post-toc-text">0x03.3.3: 通过 PyPI 下载安装 EQS</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#0x03-3-4-配置-ehForwarderBot-端"><span class="post-toc-number">4.0.3.5.</span> <span class="post-toc-text">0x03.3.4: 配置 ehForwarderBot 端</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0x04-使用-EFB-Telegram-主端"><span class="post-toc-number">5.</span> <span class="post-toc-text">0x04: 使用 EFB Telegram 主端</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#FAQ"><span class="post-toc-number">6.</span> <span class="post-toc-text">FAQ</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://hexo.milkice.me/wp-content/uploads/2018/12/hexo-banner-EQS-banner.png)">
    
            <p class="article-headline-p">
                安装并使用 EFB：在 Telegram 收发 QQ 消息
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://hexo.milkice.me/wp-content/uploads/2017/12/avatar.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Milkice</strong>
        <span>9月 17, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Develop/">Develop</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/EFB/">EFB</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/EQS/">EQS</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Python/">Python</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/QQ/">QQ</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Telegram/">Telegram</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/ehForwarderBot/">ehForwarderBot</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=安装并使用 EFB：在 Telegram 收发 QQ 消息&url=https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/index.html&pic=https://hexo.milkice.me/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=安装并使用 EFB：在 Telegram 收发 QQ 消息&url=https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/index.html&via=Milkice" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
        <a class="post_share-link" href="https://telegram.me/share/url?url=https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/index.html&text=安装并使用 EFB：在 Telegram 收发 QQ 消息" target="_blank">
            <li class="mdl-menu__item">
                分享到 Telegram
            </li>
        </a>
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>终于可以不用装QQ啦w</p>
<p><img src="https://hexo.milkice.me/wp-content/uploads/2018/09/EFB-QQ-Slave-banner.png" alt="EFB-QQ-Slave Banner"></p>
<p>EH Forwarder Bot（简称 EFB）是一个可扩展的聊天平台隧道框架，基于 Python 3。同时 EFB 配备了详尽的文档，欢迎有兴趣的朋友们开发自己的主端或从端，来支持更多的平台。EFB <a href="https://github.com/blueset/ehforwarderbot" target="_blank" rel="noopener">在 GitHub 中开放了源代码</a>，并且<a href="https://ehforwarderbot.readthedocs.io/" target="_blank" rel="noopener">在 Read The Docs 平台上发布的开发文档</a>（英文，<code>en-US</code>）。</p>
<p>本文主要介绍了如何在一个虚拟服务器 (VPS) 中安装并配置 EFB、Telegram 主端和 QQ 从端，以及如何使用 Telegram 主端来收发 QQ 消息。</p>
<h2 id="0x00-说明"><a href="#0x00-说明" class="headerlink" title="0x00: 说明"></a>0x00: 说明</h2><ul>
<li>本文档基于 EFB v2.0.0b11, efb-qq-slave v2.0.0a3 版本制作而成。较新的版本可能会有不同的安装步骤。敬请注意。</li>
<li>本教程面向具有一定背景知识的进阶用户，如有疑问，请您先在互联网上搜索（推荐 Google），若仍未解决、欢迎在 EFB Telegram 支持群组留言。</li>
<li>本教程中 QQ 从端所采用的客户端为 酷Q，因此包含安装 docker 的步骤，同时对闭源软件不喜者慎用本项目</li>
<li>本文基于 1a23 的 <a href="https://blog.1a23.com/2017/01/09/EFB-How-to-Send-and-Receive-Messages-from-WeChat-on-Telegram-zh-CN/" target="_blank" rel="noopener">安装并使用EFB：在Telegram 收发微信消息</a> 改编而来，根据原文协议<strong>本文协议临时变更为 CC BY-SA 4.0</strong>，请知悉并无视页脚协议声明</li>
<li><p>本教程假定 酷Q 和 EFB 运行在同一机器上，所以 <code>CoolQ Post Url</code> 和 <code>CoolQ API Url</code> 地址均为 127.0.0.1， 对于复杂场景（酷Q 和 EFB 在不同机器上），上述两个参数需要进行对应的修改，同时防火墙应允许双方的数据包通过，以便双方的请求不会被防火墙拦截。如果双方通信内容必须经过 Internet 传输，请确保已配置 <code>Access Token</code> 并启用 <code>HTTPS</code> 确保双方通信内容不会在公网被窃听/篡改。</p>
<p> 有关详细信息，请访问 <a href="https://cqhttp.cc/docs/4.4/#/Configuration" target="_blank" rel="noopener">配置文件文档</a> 和 <a href="https://github.com/richardchien/coolq-http-api/wiki/HTTPS" target="_blank" rel="noopener">HTTPS 文档</a> 。</p>
</li>
</ul>
<h2 id="0x01-用料"><a href="#0x01-用料" class="headerlink" title="0x01: 用料"></a>0x01: 用料</h2><p>在开始之前，请准备：</p>
<ul>
<li>电脑 一台<br>推荐 Linux、macOS 操作系统<br>部分手机亦可使用，但操作会略微繁琐。</li>
<li>Telegram 账号 一枚</li>
<li>可用的科学上网方式 若干</li>
<li>Windows 用户需要 SSH 客户端 一枚，常用 PuTTY</li>
<li>墙外 VPS 一枚</li>
</ul>
<h2 id="0x02-构建环境"><a href="#0x02-构建环境" class="headerlink" title="0x02: 构建环境"></a>0x02: 构建环境</h2><p>这里我们使用 Ubuntu 18.04 作为例子。CentOS、Arch 等其他发行版除去包管理器指令之外操作基本相同。（因为实在是不想再加钱开一个 VPS，所以下面的指令运行在同等版本的 Docker Image 上）</p>
<p>首先通过 SSH 客户端连接到你的 VPS。</p>
<hr>
<h4 id="0x02-1-安装-Python-与非-Python-依赖"><a href="#0x02-1-安装-Python-与非-Python-依赖" class="headerlink" title="0x02.1: 安装 Python 与非 Python 依赖"></a>0x02.1: 安装 Python 与非 Python 依赖</h4><p>输入以下指令。</p>
<p>注：以下安装的部分软件包可能已经预安装在你的系统中。但请注意将已安装的 Python 3 版本升级到 3.6 或以上。</p>
<pre><code class="bash">sudo apt-get install python3.6 libopus0 ffmpeg libmagic1 python3-pip git nano docker.io
</code></pre>
<hr>
<h4 id="0x02-2-从-PyPI-下载-ehForwarderBot"><a href="#0x02-2-从-PyPI-下载-ehForwarderBot" class="headerlink" title="0x02.2: 从 PyPI 下载 ehForwarderBot"></a>0x02.2: 从 PyPI 下载 ehForwarderBot</h4><p>对于全新安装的 pip，可能需要安装一些基础库</p>
<pre><code class="bash">pip3 install setuptools wheel
</code></pre>
<p>完毕之后再安装 ehforwarderbot</p>
<pre><code class="bash">pip3 install ehforwarderbot
</code></pre>
<h2 id="0x03-配置-EFB"><a href="#0x03-配置-EFB" class="headerlink" title="0x03: 配置 EFB"></a>0x03: 配置 EFB</h2><h4 id="0x03-1-配置主端与从端"><a href="#0x03-1-配置主端与从端" class="headerlink" title="0x03.1: 配置主端与从端"></a>0x03.1: 配置主端与从端</h4><p>全新安装的 ehForwarderBot 需要指定一个唯一的主端及一个或多个从端才能正常工作<br>先为 ehForwarderBot 创建配置文件夹</p>
<pre><code class="bash">mkdir -p ~/.ehforwarderbot/profiles/default/
mkdir -p ~/.ehforwarderbot/profiles/default/blueset.telegram
mkdir -p ~/.ehforwarderbot/profiles/default/milkice.qq
</code></pre>
<p>而后使用你最喜欢的编辑器在 ~/.ehforwarderbot/profiles/default/ 创建文件 config.yaml，内容如下</p>
<pre><code class="yaml">master_channel: blueset.telegram
slave_channels:
- milkice.qq
</code></pre>
<p>_master_channel 指定唯一主端，而slave<em>channels下可指定多行的从端，此处由于目标为配置 QQ 从端仅添加了 QQ 从端，后期如有需求可以多从端混用</em></p>
<hr>
<h4 id="0x03-2-配置主端-ETM-EFB-Telegram-Master"><a href="#0x03-2-配置主端-ETM-EFB-Telegram-Master" class="headerlink" title="0x03.2: 配置主端 ETM(EFB-Telegram-Master)"></a>0x03.2: 配置主端 ETM(EFB-Telegram-Master)</h4><h5 id="0x03-2-1-创建-Telegram-Bot"><a href="#0x03-2-1-创建-Telegram-Bot" class="headerlink" title="0x03.2.1: 创建 Telegram Bot"></a>0x03.2.1: 创建 Telegram Bot</h5><p>Telegram Bot 是 EFB（Telegram 主端）的出口，也是呈献给用户的渠道。我们在这里使用了 Telegram 官方的 Bot API，以最大化利用 Telegram Bot 所提供的各种便利功能。</p>
<p>要创建一个新的 Bot，要先向 <a href="https://t.me/BotFather" target="_blank" rel="noopener">@BotFather</a> 发起会话。发送指令 <code>/newbot</code> 以启动向导。期间，你需要指定这个 Bot 的名称与用户名（用户名必须以 <code>bot</code> 结尾）。完毕之后 @BotFather 会提供给你一个密钥（Token），妥善保存这个密钥。请注意，为保护您的隐私及信息安全，请不要向任何人提供你的 Bot 用户名及密钥，这可能导致聊天信息泄露等各种风险。</p>
<p>接下来还要对刚刚启用的 Bot 进行进一步的配置：允许 Bot 读取非指令信息、允许将 Bot 添加进群组、以及提供指令列表。</p>
<p>发送 <code>/setprivacy</code> 到 @BotFather，选择刚刚创建好的 Bot 用户名，然后选择 “Disable”.<br>发送 <code>/setjoingroups</code> 到 @BotFather，选择刚刚创建好的 Bot 用户名，然后选择 “Enable”.<br>发送 <code>/setcommands</code> 到 @BotFather，选择刚刚创建好的 Bot 用户名，然后发送如下内容：</p>
<pre><code class="asa">link - 将会话绑定到 Telegram 群组
chat - 生成会话头
recog - 回复语音消息以进行识别
extra - 获取更多功能
</code></pre>
<p>然后还需要获取你自己的 Telegram ID，ID 应显示为一串数字。获取你自己的 ID 有很多方式，你可以选择任意一种。下面介绍两种可能的方式。</p>
<ol>
<li><p>Plus Messenger<br>如果你使用了 Plus Messenger 作为你的 Telegram 客户端，你可以直接打开你自己的资料页，在「自己」下面会显示你的 ID。</p>
</li>
<li><p>通过 Bot 查询<br>很多现存的 Bot 也提供了 ID 查询服务，直接向其发送特定的指令即可获得自己的数字 ID。在这里介绍一些接触过的。</p>
<ul>
<li><a href="https://t.me/get_id_bot" target="_blank" rel="noopener">@get_id_bot</a> 发送 /start</li>
<li><a href="https://t.me/XYMbot" target="_blank" rel="noopener">@XYMbot</a> 发送 /whois</li>
<li><a href="https://t.me/mokubot" target="_blank" rel="noopener">@mokubot</a> 发送 /whoami</li>
<li><a href="https://t.me/GroupButler_Bot" target="_blank" rel="noopener">@GroupButler_Bot</a> 发送 /id</li>
<li><a href="https://t.me/jackbot" target="_blank" rel="noopener">@jackbot</a> 发送 /me</li>
<li><a href="https://t.me/userinfobot" target="_blank" rel="noopener">@userinfobot</a> 发送任意文字</li>
<li><a href="https://t.me/orzdigbot" target="_blank" rel="noopener">@orzdigbot</a> 发送 /user</li>
</ul>
</li>
</ol>
<p>留存你的 Telegram ID 以便后续使用。</p>
<hr>
<h5 id="0x03-2-2-安装-ETM"><a href="#0x03-2-2-安装-ETM" class="headerlink" title="0x03.2.2: 安装 ETM"></a>0x03.2.2: 安装 ETM</h5><pre><code class="bash">pip3 install efb-telegram-master
</code></pre>
<hr>
<h5 id="0x03-2-3-创建-ETM-配置文件"><a href="#0x03-2-3-创建-ETM-配置文件" class="headerlink" title="0x03.2.3: 创建 ETM 配置文件"></a>0x03.2.3: 创建 ETM 配置文件</h5><p>使用你最喜欢的编辑器在 <code>~/.ehforwarderbot/profiles/default/blueset.telegram/</code> 创建文件 <code>config.yaml</code>，内容如下</p>
<pre><code class="yaml">token: &quot;12345678:QWFPGJLUYarstdheioZXCVBKM&quot;
admins:
- 123456789
</code></pre>
<p><em>其中，<code>token</code> 填入你在 0x03.2.1 步骤中从 @BotFather 获取的 bot token，<code>admins</code> 下的数字则为管理员 Telegram ID，一行一个</em></p>
<hr>
<h4 id="0x03-3-配置从端-EQS-EFB-QQ-Slave"><a href="#0x03-3-配置从端-EQS-EFB-QQ-Slave" class="headerlink" title="0x03.3: 配置从端 EQS(EFB-QQ-Slave)"></a>0x03.3: 配置从端 EQS(EFB-QQ-Slave)</h4><h5 id="0x3-3-0-配置用户-docker-网络权限"><a href="#0x3-3-0-配置用户-docker-网络权限" class="headerlink" title="0x3.3.0: 配置用户 docker 网络权限"></a>0x3.3.0: 配置用户 docker 网络权限</h5><p>对于部分系统（例如Ubuntu），若当前用户为非root用户可能会出现 docker run 时提示 Permission Denied 的情况 此时请以 root 用户身份执行本命令</p>
<pre><code class="bash">usermod -aG docker $USER
</code></pre>
<p>$USER 请替换为用户名</p>
<p>完成后请关闭终端并重新打开，此时应能正常运行 docker</p>
<hr>
<h5 id="0x03-3-1-配置-docker-镜像"><a href="#0x03-3-1-配置-docker-镜像" class="headerlink" title="0x03.3.1: 配置 docker 镜像"></a>0x03.3.1: 配置 docker 镜像</h5><p>对于 Linux 系统来说，酷Q 较为方便的运行方式便是使用 Richard Chien 魔改的 由酷Q官方提供的 docker 镜像<br>请运行下列命令</p>
<pre><code class="bash">docker pull richardchien/cqhttp:latest
mkdir coolq  # 包含CoolQ程序文件
docker run -ti --rm --name cqhttp-test --net=&quot;host&quot; \
     -v $(pwd)/coolq:/home/user/coolq     `# mount coolq folder` \
     -p 9000:9000                         `# 网页noVNC端口` \
     -p 5700:5700                         `# 酷Q对外提供的API接口的端口` \
     -e VNC_PASSWD=MAX8char               `# 请修改 VNC 密码！！！！` \
     -e COOLQ_PORT=5700                   `# 酷Q对外提供的API接口的端口` \
     -e COOLQ_ACCOUNT=123456              `# 在此输入要登录的QQ号，虽然可选但是建议填入` \
     -e CQHTTP_POST_URL=http://127.0.0.1:8000   `# efb-qq-slave监听的端口/地址 用于接受传入的消息` \
     -e CQHTTP_SERVE_DATA_FILES=yes       `# 允许以HTTP方式访问酷Q数据文件` \
     -e CQHTTP_ACCESS_TOKEN=ac0f790e1fb74ebcaf45da77a6f9de47  `# Access Token` \
     -e CQHTTP_POST_MESSAGE_FORMAT=array  `# 回传消息时使用数组（必选）` \
     richardchien/cqhttp:latest
</code></pre>
<p>请将 docker run 命令中的参数根据注释改为相应数值</p>
<ul>
<li><p>酷Q Pro用户请注意</p>
<p><strong>请在docker run命令中添加额外参数</strong> (<code>-e COOLQ_URL = &quot;http://dlsec.cqp.me/cqp-tuling&quot;</code>) <strong>，以便docker下载CoolQ Pro而不是Air</strong></p>
</li>
</ul>
<p>请注意，为了确保可以从 docker 内访问 ehforwarderbot，建议添加参数 <code>--net =&quot;host&quot;</code>  。如果您遇到网络问题，请尝试删除此参数。</p>
<p><em>P.S.: 对于 docker 和 EFB 在同一机器上的情况下，为了保证 EFB 可以访问到 酷Q 暴露的 API 端口，最简单的方案即是将 网络模式 改成 host</em></p>
<p> <strong>请阅读 <a href="https://cqhttp.cc/docs/4.4/#/Docker" target="_blank" rel="noopener">docker 文档</a> 获悉更多的可配置选项.</strong></p>
<hr>
<h5 id="0x03-3-2-登录"><a href="#0x03-3-2-登录" class="headerlink" title="0x03.3.2: 登录"></a>0x03.3.2: 登录</h5><p>在浏览器内访问 http://<ip或者域名>:9000</ip或者域名></p>
<p>请在noVNC终端中输入上述配置选项中的 VNC 密码登录，并使用QQ账户和密码在酷Q中登录QQ账号</p>
<hr>
<h5 id="0x03-3-3-通过-PyPI-下载安装-EQS"><a href="#0x03-3-3-通过-PyPI-下载安装-EQS" class="headerlink" title="0x03.3.3: 通过 PyPI 下载安装 EQS"></a>0x03.3.3: 通过 PyPI 下载安装 EQS</h5><pre><code class="bash">pip3 install efb-qq-slave
</code></pre>
<hr>
<h5 id="0x03-3-4-配置-ehForwarderBot-端"><a href="#0x03-3-4-配置-ehForwarderBot-端" class="headerlink" title="0x03.3.4: 配置 ehForwarderBot 端"></a>0x03.3.4: 配置 ehForwarderBot 端</h5><ol>
<li><p>为 <code>milkice.qq</code> 从端创建 <code>config.yaml</code> 配置文件</p>
<p><strong>配置文件通常位于 <code>~/.ehforwarderbot/profiles/default/milkice.qq/config.yaml</code>.</strong></p>
<p>样例配置文件如下:</p>
<pre><code class="yaml">    Client: CoolQ                         # 指定要使用的 QQ 客户端（此处为CoolQ）
    CoolQ:
        type: HTTP                        # 指定 efb-qq-slave 与 酷Q 通信的方式 现阶段仅支持HTTP
        access_token: ac0f790e1fb74ebcaf45da77a6f9de47
        api_root: http://127.0.0.1:5700/  # 酷Q API接口地址/端口
        host: 127.0.0.1                   # efb-qq-slave 所监听的地址用于接收消息
        port: 8000                        # 同上
        is_pro: true                      # 若为酷Q Pro则为true，反之为false
        air_option:                       # 包含于 air_option 的配置选项仅当 is_pro 为 false 时才有效
            upload_to_smms: true          # 将来自 EFB主端(通常是Telegram) 的图片上传到 sm.ms 服务器并以链接的形式发送到 QQ 端
</code></pre>
</li>
<li>控制台启动 <code>ehforwarderbot</code>, 大功告成!</li>
</ol>
<h2 id="0x04-使用-EFB-Telegram-主端"><a href="#0x04-使用-EFB-Telegram-主端" class="headerlink" title="0x04: 使用 EFB Telegram 主端"></a>0x04: 使用 EFB Telegram 主端</h2><p>现在，在 Telegram 里面搜索你之前指定的 Bot 用户名，点击 Start（开始）即可开始与 QQ 互通消息了。</p>
<p>在最初，所有来自 QQ 的消息都会通过 Bot 直接发送给你，要回复其中的任意一条消息，你需要在 Telegram 中选中那条消息，选择 Reply（回复），再输入消息内容。</p>
<p>如果需要向新联系人发送消息，只需发送 /chat 指令，选择一个会话。之后这条消息就会变成一个「会话头」，回复这条消息就可以向指定的联系人或群组发送消息。</p>
<p>当消息过多时，来自不同会话的消息会使 Telegram 上面的会话混乱不堪。EFB 支持将来自指定会话的消息分流到一个 Telegram 群组中。</p>
<p>在 Telegram 中新建一个空群组，并将你的 Bot 加入到这个群组中。<br>（如果找不到自己的 Bot，请尝试在桌面版中创建，并在添加成员时搜索 Bot 的用户名）<br>回到 Bot 会话，发送 /link，选择一个会话，并点击 “Link”<br>在弹出的列表中选择刚刚创建的空群组即可<br>在绑定会话中，你可以像普通聊天一样直接发送消息。也可以通过指定回复的形式来 @ 其他人。<br>“Link” 功能亦可以屏蔽一些群组/用户的消息，在点击”Link”后选择免打扰即可<br>您亦可将一些会话连接到频道，此时需要特殊的link方式，请点击”Link”之后选择手动绑定，由机器人指导您进行绑定操作<br>请注意，若将会话绑定到频道，即意味着本回话只能接受消息无法发出，即便用户在频道发出消息也不会被理会</p>
<blockquote>
<p>注意<br>虽然 Telegram 群组中的所有人可以看到会话全文，但是只有配置文件 (config.py) 中指定的管理员 (admins) 能够以你的名义发送消息到 QQ。EFB 支持设置多个管理员，但只有第一个管理员（按照输入排序）能够接收到所有消息，而且这有可能造成不必要的隐私问题，敬请注意。</p>
</blockquote>
<p>以上就是 EFB Telegram 主端的基础用法。</p>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><p><strong>以下内容通用 针对所有客户端有效</strong></p>
<ul>
<li><p>Q - 如何在 主端(Telegram) 撤回消息？</p>
<p> A - 如果 QQ 客户端支持该操作，请编辑该消息并在该消息前段加上 `rm`` 字样即可在QQ端撤回该消息 同时请注意发出的消息仅能在发出后2分钟内撤回</p>
</li>
<li><p>Q - 如何在 主端(Telegram) 编辑消息？</p>
<p> A - 直接使用 Telegram 的编辑消息功能即可</p>
</li>
<li><p>Q - EQS 只支持 酷Q 吗？</p>
<p>A - 现阶段 QQ端的开源现状并不如微信，加之腾讯阉割掉WebQQ一大堆功能，导致一大批原本以WebQQ为协议的应用几乎陷入不可用状态（不能收发图片，必须扫码登录或奇淫技巧密码登录等）。目前来说，以iOS/Android/Pad协议为基础的开源应用几乎没有，尚有的一些也处于疯狂改架构状态非常不稳定，在若干闭源方案中选择酷Q是因为酷Q插件体系较为成熟，HTTP API插件可以很方便地暴露接口给外部应用使用<br>efb-qq-slave 在设计架构的时候已经考虑到多客户端支持的可能性，所以如果有更好的 QQ 客户端 EQS 将会第一时间支持，也希望能够得到社区的力量一起协助完善项目</p>
</li>
</ul>
<p><strong>以下内容仅针对于 酷Q 客户端有效</strong></p>
<ul>
<li><p>Q - 为什么我无法在 Telegram 中发送图片到QQ?</p>
<p> A - 如果您正在使用 CoolQ Air，由于技术限制无法直接发送图片到QQ，请将配置文件中的 <code>is_pro</code> 改为 false 并将 <code>air_option</code> 中的 <code>upload_to_smms</code> 改为true即可变相发送图片（通过链接形式）</p>
</li>
<li><p>Q - 为什么我无法接收/发送QQ语音？</p>
<p> A - 酷Q官方以语音处理库太大为由并未将语音模块集成入酷Q，而是提供了一个带语音处理版本的酷Q供下载，目前暂时没有动力编写QQ语音消息的处理，如有需求请在 <a href="https://github.com/milkice233/efb-qq-slave/issues/1" target="_blank" rel="noopener">这个Github Issue</a> 中留言或在issue上发送表情，需求量较高将会考虑开发</p>
</li>
<li><p>Q - 酷Q不同版本区别？</p>
<p> A - <a href="https://cqp.cc/t/23290" target="_blank" rel="noopener">https://cqp.cc/t/23290</a> 同时请注意酷Q Air 不支持消息撤回</p>
</li>
<li><p>Q - 目前暂未实现的功能？</p>
<p> A - 好友请求处理，加群请求处理，尚未适配少部分消息类型（例如签到消息），语音发送/接收</p>
</li>
<li><p>Q - 一段时间后 EQS 提示我 Cookie 过期需要手动刷新 Cookie？<br> A - 这是由于一些特性需要从腾讯网站上获取，而酷Q提供的Cookie在腾讯外部网站不可访问但是酷Q仍可以使用该Cookie发送/接受消息，因而酷Q认为此Cookie一切正常并不会主动更新Cookie，此时需要手动强制刷新，具体教程请参阅此处 <a href="https://github.com/milkice233/efb-qq-slave/wiki/Workaround-for-expired-cookies-of-CoolQ" target="_blank" rel="noopener">efb-qq-slave/Workaround-for-expired-cookies-of-CoolQ</a></p>
</li>
<li><p>Q - 有时候无法显示来源消息的群名，只能显示群号？<br> A - 可能用户加入新群之后酷Q并未即时更新群列表，此时可以先给机器人发送 /extra，然后由机器人给出的命令中选择 /{slave_id}_relogin 命令执行（该命令通常名为 /0_relogin），执行 /0_relogin -c，稍等片刻，如果酷Q端已开启自动登录则不需要人工干预群列表即可恢复正常，部分情况下可能需要用户再次登录 Web VNC 重新输入QQ密码登录</p>
</li>
</ul>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            本作品采用 <a rel="license nofollow" target="_blank" href="http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/">https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0;
            display: none
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn">阅读评论（请确保 disqus 可以正常加载）</button>
</div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://hexo.milkice.me/2018/09/16/efb-how-to-send-and-receive-messages-from-qq-on-telegram/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    $.ajax({
        url: 'https://disqus.com/next/config.json',
        timeout: 4000,
        type: 'GET',
        success: (function() {
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-milkice-me.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
            $('.disqus_click_btn').css('display','none');
        })(),
        error: function() {
          $('.disqus_click_btn').css('display','block');
        }
    });
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-milkice-me.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.disqus_click_btn').css('display','none');
    });
</script>
  	

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2018/12/28/hello-world/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/01/15/kratos-M/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://hexo.milkice.me/wp-content/uploads/2017/12/avatar.jpg" alt="Milkice's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">2</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Tech/">Tech<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tech/Develop/">Develop<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tech/Develop/Python/">Python<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tech/Games/">Games<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tech/Maintenance/">Maintenance<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tech/Web/">Web<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tech/WordPress/">WordPress<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about-me" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/ALI_Milkice" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://git.io/milkice" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
        <a href="https://t.me/milkice" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-telegram">
                <span class="visuallyhidden">Telegram</span>
            </button><!--
     --></a>
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Milkice's IceBox
            
                <br>
                
                    BACKGROUND <a href="https://www.pixiv.net/member_illust.php?mode=medium&amp;illust_id=63624858">無題</a> MADE BY <a href="https://www.pixiv.net/member.php?id=9790122">SMILE</a><br>ICEBOX BUILT BY MILKICE WITH ❤
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("sm_js","/js/smoothscroll.js?lOy/ACj5suSNi7ZVFVbpFQ==", true)</script>
    







   <!-- 使用 DISQUS js 代码 -->






<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
